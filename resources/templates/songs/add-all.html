{% if form.error %}
<p class="bg-danger">{{form.error}}</p>
{% endif %}

<form autocomplete="off" role="form" method="post" class="add-all">

    <div class="form-group autocomplete">
        <label for="artist_name">Artist</label>
        <ul class="errors mb-0">
            {% for e in form.validation-errors.artist_name %}
            <li>{{e}}</li>
            {% endfor %}
        </ul>

        <input type="input" name="artist_name"
               class="form-control" id="artist_name"
               value="{{form.new.artist_name}}">
    </div>

    <div class="form-group">
        <h4>Album</h4>

        <label for="album_name">Album name</label>
        <ul class="errors mb-0">
            {% for e in form.validation-errors.album_name %}
            <li>{{e}}</li>
            {% endfor %}
        </ul>

        <input type="input" name="album_name"
               class="form-control" id="album_name"
               value="{{form.new.album_name}}">
    </div>

    <div class="form-group">
        <label for="release_date">Release date</label>
        <ul class="errors mb-0">
            {% for e in form.validation-errors.release_date %}
            <li>{{e}}</li>
            {% endfor %}
        </ul>

        <input type="date" name="release_date"
               class="form-control" id="release_date"
               value="{{form.new.release_date}}">
        <p class="help-block">yyyy-mm-dd</p>

        <label for="album_genre">Genre</label>
        <ul class="errors mb-0">
            {% for e in form.validation-errors.album_genre %}
            <li>{{e}}</li>
            {% endfor %}
        </ul>

        <input type="input" name="album_genre"
               class="form-control" id="album_genre"
               value="{{form.new.album_genre}}">

    </div>

    <div class="form-group">
        <h4>Songs</h4>


        <label for="song_name">Song name</label>
        <ul class="errors mb-0">
            {% for e in form.validation-errors.song_name %}
            <li>{{e}}</li>
            {% endfor %}
        </ul>

        <input type="input" name="song_name"
               class="form-control" id="song_name"
               value="{{form.new.song_name}}">

        <label for="song_genre">Song genre</label>
        <ul class="errors mb-0">
            {% for e in form.validation-errors.song_genre %}
            <li>{{e}}</li>
            {% endfor %}
        </ul>
        <input type="input" name="song_genre"
               class="form-control" id="song_genre"
               value="{{form.new.song_genre}}">
    </div>

    <div class="form-group submit">
        <button type="submit" class="btn btn-primary">Add</button>
    </div>

</form>

{{ artists|json|safe }}

{% script "/js/autocomplete.js" %}

<script>
    var artists = {{artists|json|safe}};
    console.log(artists);
    autocomplete(document.getElementById("artist_name"), artists);
</script>